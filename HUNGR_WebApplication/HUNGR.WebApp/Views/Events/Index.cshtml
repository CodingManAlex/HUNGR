@model IEnumerable<HUNGR.WebApp.Models.Event>

@{
    ViewData["Title"] = "Index";
}

@section Scripts{
    <script>
        $(document).ready(function () {
            $(function () {
                $("#searchBar").autocomplete({
                    source: "/Home/AutoComplete",
                    minLength: 1
                });
            }
            );
        })


    </script>
}

<form method="get" asp-action="Search" asp-controller="Home">
    <div class="input-group">
        <input id="searchBar" type="text" placeholder="Enter a Food Truck Name..." class="form-control" name="searchTerm" />
        <div class="input-group-append">
            <input type="submit" value="Search" class="btn btn-primary">
        </div>
    </div>
</form>

@foreach (var ev in Model)
{
    var photoPath = "~/images/" + (ev.ImagePath ?? "defaultProfileImage.png");
    <div class="card mt-3">
        @*        <a asp-page="/FoodTrucks/FoodTruckProfile" asp-route-id="@truck.FoodTruckId">*@

        <a asp-action="Details" asp-route-id="@ev.Id">
            <img class="d-block w-100 eventThumbnail" src="@photoPath" alt="@ev.Name" asp-append-version="true">
        </a>
        <div class="card-body">
            <h3>@ev.Name</h3>
        </div>
    </div>
}


